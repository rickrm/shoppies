{"ast":null,"code":"import _slicedToArray from\"/Users/rickm/Desktop/shoppies/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/rickm/Desktop/shoppies/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n\\n  margin: 10.21% 22% 5.07% 22%;\\n\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n\\n    width: 33%;\\n    height: 31px;\\n    color: white;\\n    font-size: 18px;\\n    font-weight: 400;\\n    background-color: transparent;\\n    margin-top: 16px;\\n    border-style: solid;\\n    border-top: 0;\\n    border-left: 0;\\n    border-right: 0;\\n    border-bottom: 2.5px solid white;\\n\\n    &::placeholder {\\n        font-size: 18px;\\n        color: #E3E3E3;\\n        font-weight: 400;\\n    }\\n\\n    &:focus {\\n        border-bottom: 2.5px solid #F0C453;\\n    }\\n\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n\\n    width: 100%;\\n    height: 31px;\\n    color: white;\\n    font-size: 18px;\\n    font-weight: 400;\\n    background-color: transparent;\\n    margin-top: 16px;\\n    border-style: solid;\\n    border-top: 0;\\n    border-left: 0;\\n    border-right: 0;\\n    border-bottom: 2.5px solid white;\\n\\n    &::placeholder {\\n        font-size: 18px;\\n        color: #E3E3E3;\\n        font-weight: 400;\\n    }\\n\\n    &:focus {\\n        border-bottom: 2.5px solid #F0C453;\\n    }\\n\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n\\n  color: white;\\n  font-weight: bold;\\n  text-align: left;\\n  font-size: 48px;\\n  margin-bottom: 73px;\\n\\n  @media only screen and (max-width: 820px) {\\n\\n    text-align: center;\\n    font-size: calc(0px + 5.85vw);\\n    \\n}\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import SearchList from'../components/SearchList';import config from'../config.json';import style from'styled-components';var request=require('request');var NominateTitle=style.h1(_templateObject());var Form=style.input(_templateObject2());var Form2=style.input(_templateObject3());var Wrapper=style.div(_templateObject4());export default function Nominate(_ref){var addMovie=_ref.addMovie,movies=_ref.movies,limit=_ref.limit;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),searchInput=_React$useState2[0],setInput=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),yearInput=_React$useState4[0],setYearInput=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),searchOutput=_React$useState6[0],setOuput=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),pageCount=_React$useState8[0],setPages=_React$useState8[1];var _React$useState9=React.useState(1),_React$useState10=_slicedToArray(_React$useState9,2),currPage=_React$useState10[0],setCurrPage=_React$useState10[1];React.useEffect(function(){if(searchInput.length<=2){request(\"https://www.omdbapi.com/?t=\".concat(searchInput,\"&apikey=\").concat(config.key,\"&page=1&type=movie&r=json&y=\").concat(yearInput),{json:true},function(err,res,body){if(body.Response===\"False\"){setOuput([]);if(searchInput.length!==0){setPages(-1);}return;}var currMovies=[body];setPages(1);setOuput(currMovies);});}else{request(\"https://www.omdbapi.com/?s=\".concat(searchInput,\"&apikey=\").concat(config.key,\"&page=\").concat(currPage,\"&y=\").concat(yearInput,\"&type=movie&r=json\"),{json:true},function(err,res,body){if(body.Response===\"False\"){setOuput([]);setPages(-1);return;}var movieCount=body.totalResults;var currMovies=body.Search;setPages(Math.floor(movieCount/10)+1);setOuput(currMovies);});}},[searchInput,currPage,yearInput]);var handleNextPage=function handleNextPage(){setCurrPage(function(prev){return prev+=1;});};var handleBackPage=function handleBackPage(){setCurrPage(function(prev){return prev-=1;});};var handleChange=function handleChange(e){setCurrPage(1);setInput(e.target.value);};var handleYearChange=function handleYearChange(e){setCurrPage(1);setYearInput(e.target.value);};return/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(NominateTitle,null,\"Start Nominating\"),/*#__PURE__*/React.createElement(Form,{placeholder:\" \\uD83D\\uDD0D Search for the film title (or not, it's up to you)\",onChange:handleChange}),/*#__PURE__*/React.createElement(Form2,{placeholder:\" \\uD83D\\uDCC5 Enter year of film (optional)\",onChange:handleYearChange}),/*#__PURE__*/React.createElement(SearchList,{date:yearInput,limit:limit,input:searchInput,currPage:currPage,goNextPage:handleNextPage,goBackPage:handleBackPage,pages:pageCount,addMovie:addMovie,movies:searchOutput,nominates:movies}));}","map":{"version":3,"sources":["/Users/rickm/Desktop/shoppies/src/page/Nominate.js"],"names":["React","SearchList","config","style","request","require","NominateTitle","h1","Form","input","Form2","Wrapper","div","Nominate","addMovie","movies","limit","useState","searchInput","setInput","yearInput","setYearInput","searchOutput","setOuput","pageCount","setPages","currPage","setCurrPage","useEffect","length","key","json","err","res","body","Response","currMovies","movieCount","totalResults","Search","Math","floor","handleNextPage","prev","handleBackPage","handleChange","e","target","value","handleYearChange"],"mappings":"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","sourcesContent":["import React from 'react'\nimport SearchList from '../components/SearchList';\nimport config from '../config.json';\nimport style from 'styled-components';\n\nconst request = require('request');\n\nconst NominateTitle = style.h1`\n\n  color: white;\n  font-weight: bold;\n  text-align: left;\n  font-size: 48px;\n  margin-bottom: 73px;\n\n  @media only screen and (max-width: 820px) {\n\n    text-align: center;\n    font-size: calc(0px + 5.85vw);\n    \n}\n\n`;\n\nconst Form = style.input`\n\n    width: 100%;\n    height: 31px;\n    color: white;\n    font-size: 18px;\n    font-weight: 400;\n    background-color: transparent;\n    margin-top: 16px;\n    border-style: solid;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    border-bottom: 2.5px solid white;\n\n    &::placeholder {\n        font-size: 18px;\n        color: #E3E3E3;\n        font-weight: 400;\n    }\n\n    &:focus {\n        border-bottom: 2.5px solid #F0C453;\n    }\n\n`;\n\nconst Form2 = style.input`\n\n    width: 33%;\n    height: 31px;\n    color: white;\n    font-size: 18px;\n    font-weight: 400;\n    background-color: transparent;\n    margin-top: 16px;\n    border-style: solid;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    border-bottom: 2.5px solid white;\n\n    &::placeholder {\n        font-size: 18px;\n        color: #E3E3E3;\n        font-weight: 400;\n    }\n\n    &:focus {\n        border-bottom: 2.5px solid #F0C453;\n    }\n\n`;\n\nconst Wrapper = style.div`\n\n  margin: 10.21% 22% 5.07% 22%;\n\n`;\n\n\nexport default function Nominate({ addMovie, movies, limit }) {\n\n    const [searchInput, setInput] = React.useState(\"\");\n    const [yearInput, setYearInput] = React.useState(\"\");\n    const [searchOutput, setOuput] = React.useState([]);\n    const [pageCount, setPages] = React.useState(0);\n    const [currPage, setCurrPage] = React.useState(1);\n\n    React.useEffect(() => {\n\n        if(searchInput.length <= 2) {\n            request(`https://www.omdbapi.com/?t=${searchInput}&apikey=${config.key}&page=1&type=movie&r=json&y=${yearInput}`, { json: true }, (err, res, body) =>  {\n                if (body.Response === \"False\") {\n                    setOuput([]);\n                    if (searchInput.length !== 0) {\n                        setPages(-1);\n                    }\n                    return\n                }\n                const currMovies = [body];\n                setPages(1)\n                setOuput(currMovies)\n            });\n\n        } else {\n            request(`https://www.omdbapi.com/?s=${searchInput}&apikey=${config.key}&page=${currPage}&y=${yearInput}&type=movie&r=json`, { json: true }, (err, res, body) =>  {\n                if (body.Response === \"False\") {\n                    setOuput([]);\n                    setPages(-1);\n                    return\n                }\n            \n                const movieCount = body.totalResults;\n                const currMovies = body.Search;\n    \n                setPages(Math.floor(movieCount/10) + 1);\n                setOuput(currMovies);\n    \n    \n            });\n        }\n\n    }, [searchInput, currPage, yearInput]);\n\n    const handleNextPage = () => {\n        setCurrPage((prev) => prev += 1);\n    }\n\n    const handleBackPage = () => {\n        setCurrPage((prev) => prev -= 1);\n    }\n\n    const handleChange =(e) => {\n        setCurrPage(1);\n        setInput(e.target.value);\n    }\n\n    const handleYearChange =(e) => {\n        setCurrPage(1);\n        setYearInput(e.target.value);\n    }\n    return (\n        <Wrapper>\n            <NominateTitle>\n                Start Nominating\n            </NominateTitle>\n            <Form placeholder=\" 🔍 Search for the film title (or not, it's up to you)\" onChange={handleChange}/>\n            <Form2 placeholder=\" 📅 Enter year of film (optional)\" onChange={handleYearChange}/>\n            <SearchList \n            date={yearInput}\n            limit={limit}\n            input={searchInput}\n            currPage={currPage}\n            goNextPage={handleNextPage} \n            goBackPage ={handleBackPage}\n            pages={pageCount} \n            addMovie={addMovie} \n            movies={searchOutput} \n            nominates={movies}/>\n        </Wrapper>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}