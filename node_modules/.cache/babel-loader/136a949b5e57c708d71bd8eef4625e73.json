{"ast":null,"code":"var _jsxFileName = \"/Users/rickm/Desktop/shoppies/src/page/Nominate.js\";\nimport React from 'react';\nimport SearchList from '../components/SearchList';\nimport config from '../config.json';\nimport parseMovie from '../util';\nimport style from 'styled-components';\n\nconst request = require('request');\n\nconst NominateTitle = style.h1`\n\n  color: white;\n  font-weight: bold;\n  text-align: left;\n  font-size: 48px;\n  margin-bottom: 73px;\n\n`;\nconst Form = style.input`\n\n    width: 100%;\n    height: 31px;\n    color: white;\n    font-size: 18px;\n    font-weight: 400;\n    background-color: transparent;\n    border-style: solid;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    border-bottom: 5px solid white;\n\n    &::placeholder {\n        font-size: 18px;\n        color: #E3E3E3;\n        font-weight: 400;\n    }\n\n`;\nconst Wrapper = style.div`\n\n  margin: 10.21% 22% 5.07% 22%;\n\n`;\nexport default function Nominate() {\n  const [searchInput, setInput] = React.useState(\"\");\n  const [searchOutput, setOuput] = React.useState([]);\n  const [pageCount, setPages] = React.useState(0);\n  React.useEffect(() => {\n    if (searchInput.length <= 2) {\n      request(`http://www.omdbapi.com/?t=${searchInput}&apikey=${config.key}&page=1&type=movie&r=json`, {\n        json: true\n      }, (err, res, body) => {\n        if (body.Response === \"False\") {\n          setOuput([]);\n          return;\n        }\n\n        const currMovies = [body];\n        setPages(1);\n        setOuput(currMovies);\n      });\n    } else {}\n\n    request(`http://www.omdbapi.com/?s=${searchInput}&apikey=${config.key}&page=1&type=movie&r=json`, {\n      json: true\n    }, (err, res, body) => {\n      if (body.Response === \"False\") {\n        setOuput([]);\n        return;\n      }\n\n      const movieCount = body.totalResults;\n      const currMovies = body.Search;\n      setPages(Number(movieCount / 10) + 1);\n      setOuput(currMovies);\n    });\n  }, [searchInput]);\n\n  const handleChange = e => {\n    setInput(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NominateTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Start Nominating\"), /*#__PURE__*/React.createElement(Form, {\n    placeholder: \"Search for film title (or not up to you)\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SearchList, {\n    movies: searchOutput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/rickm/Desktop/shoppies/src/page/Nominate.js"],"names":["React","SearchList","config","parseMovie","style","request","require","NominateTitle","h1","Form","input","Wrapper","div","Nominate","searchInput","setInput","useState","searchOutput","setOuput","pageCount","setPages","useEffect","length","key","json","err","res","body","Response","currMovies","movieCount","totalResults","Search","Number","handleChange","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,UAAP,MAAuB,SAAvB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,aAAa,GAAGH,KAAK,CAACI,EAAG;;;;;;;;CAA/B;AAUA,MAAMC,IAAI,GAAGL,KAAK,CAACM,KAAM;;;;;;;;;;;;;;;;;;;;CAAzB;AAsBA,MAAMC,OAAO,GAAGP,KAAK,CAACQ,GAAI;;;;CAA1B;AAOA,eAAe,SAASC,QAAT,GAAoB;AAE/B,QAAM,CAACC,WAAD,EAAcC,QAAd,IAA0Bf,KAAK,CAACgB,QAAN,CAAe,EAAf,CAAhC;AACA,QAAM,CAACC,YAAD,EAAeC,QAAf,IAA2BlB,KAAK,CAACgB,QAAN,CAAe,EAAf,CAAjC;AACA,QAAM,CAACG,SAAD,EAAYC,QAAZ,IAAwBpB,KAAK,CAACgB,QAAN,CAAe,CAAf,CAA9B;AAEAhB,EAAAA,KAAK,CAACqB,SAAN,CAAgB,MAAM;AAElB,QAAGP,WAAW,CAACQ,MAAZ,IAAsB,CAAzB,EAA4B;AACxBjB,MAAAA,OAAO,CAAE,6BAA4BS,WAAY,WAAUZ,MAAM,CAACqB,GAAI,2BAA/D,EAA2F;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAA3F,EAA2G,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAqB;AACnI,YAAIA,IAAI,CAACC,QAAL,KAAkB,OAAtB,EAA+B;AAC3BV,UAAAA,QAAQ,CAAC,EAAD,CAAR;AACA;AACH;;AACD,cAAMW,UAAU,GAAG,CAACF,IAAD,CAAnB;AAEAP,QAAAA,QAAQ,CAAC,CAAD,CAAR;AACAF,QAAAA,QAAQ,CAACW,UAAD,CAAR;AAGH,OAXM,CAAP;AAaH,KAdD,MAcO,CAEN;;AACDxB,IAAAA,OAAO,CAAE,6BAA4BS,WAAY,WAAUZ,MAAM,CAACqB,GAAI,2BAA/D,EAA2F;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAA3F,EAA2G,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAqB;AACnI,UAAIA,IAAI,CAACC,QAAL,KAAkB,OAAtB,EAA+B;AAC3BV,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACA;AACH;;AAED,YAAMY,UAAU,GAAGH,IAAI,CAACI,YAAxB;AACA,YAAMF,UAAU,GAAGF,IAAI,CAACK,MAAxB;AAEAZ,MAAAA,QAAQ,CAACa,MAAM,CAACH,UAAU,GAAC,EAAZ,CAAN,GAAwB,CAAzB,CAAR;AACAZ,MAAAA,QAAQ,CAACW,UAAD,CAAR;AAGH,KAbM,CAAP;AAcH,GAjCD,EAiCG,CAACf,WAAD,CAjCH;;AAmCA,QAAMoB,YAAY,GAAGC,CAAD,IAAO;AACvBpB,IAAAA,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH,GAFD;;AAGA,sBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAII,oBAAC,IAAD;AAAM,IAAA,WAAW,EAAC,0CAAlB;AAA6D,IAAA,QAAQ,EAAEH,YAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAKI,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEjB,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADJ;AASH","sourcesContent":["import React from 'react'\nimport SearchList from '../components/SearchList';\nimport config from '../config.json';\nimport parseMovie from '../util';\nimport style from 'styled-components';\n\nconst request = require('request');\n\nconst NominateTitle = style.h1`\n\n  color: white;\n  font-weight: bold;\n  text-align: left;\n  font-size: 48px;\n  margin-bottom: 73px;\n\n`;\n\nconst Form = style.input`\n\n    width: 100%;\n    height: 31px;\n    color: white;\n    font-size: 18px;\n    font-weight: 400;\n    background-color: transparent;\n    border-style: solid;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    border-bottom: 5px solid white;\n\n    &::placeholder {\n        font-size: 18px;\n        color: #E3E3E3;\n        font-weight: 400;\n    }\n\n`;\n\nconst Wrapper = style.div`\n\n  margin: 10.21% 22% 5.07% 22%;\n\n`;\n\n\nexport default function Nominate() {\n\n    const [searchInput, setInput] = React.useState(\"\");\n    const [searchOutput, setOuput] = React.useState([]);\n    const [pageCount, setPages] = React.useState(0);\n\n    React.useEffect(() => {\n\n        if(searchInput.length <= 2) {\n            request(`http://www.omdbapi.com/?t=${searchInput}&apikey=${config.key}&page=1&type=movie&r=json`, { json: true }, (err, res, body) =>  {\n                if (body.Response === \"False\") {\n                    setOuput([]);\n                    return\n                }\n                const currMovies = [body];\n    \n                setPages(1)\n                setOuput(currMovies)\n    \n    \n            });\n\n        } else {\n            \n        }\n        request(`http://www.omdbapi.com/?s=${searchInput}&apikey=${config.key}&page=1&type=movie&r=json`, { json: true }, (err, res, body) =>  {\n            if (body.Response === \"False\") {\n                setOuput([]);\n                return\n            }\n        \n            const movieCount = body.totalResults;\n            const currMovies = body.Search;\n\n            setPages(Number(movieCount/10) + 1)\n            setOuput(currMovies)\n\n\n        });\n    }, [searchInput]);\n\n    const handleChange =(e) => {\n        setInput(e.target.value);\n    }\n    return (\n        <Wrapper>\n            <NominateTitle>\n                Start Nominating\n            </NominateTitle>\n            <Form placeholder=\"Search for film title (or not up to you)\" onChange={handleChange}/>\n            <SearchList movies={searchOutput}/>\n        </Wrapper>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}